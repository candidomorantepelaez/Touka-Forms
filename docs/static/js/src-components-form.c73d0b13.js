(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./src/components/form.mdx":function(e,n,t){"use strict";t.r(n);var o=t("./node_modules/react/index.js"),a=t.n(o),r=t("./node_modules/@mdx-js/tag/dist/index.js"),i=t("./node_modules/docz/dist/index.m.js"),l=t("./node_modules/ramda/es/isNil.js"),s=t("./node_modules/ramda/es/omit.js"),u=t("./node_modules/ramda/es/isEmpty.js"),c=t("./node_modules/ramda/es/reduce.js"),m=t("./node_modules/ramda/es/mergeRight.js"),d=t("./node_modules/ramda/es/objOf.js"),f=t("./node_modules/ramda/es/find.js"),p=t("./node_modules/ramda/es/findIndex.js"),b=t("./node_modules/ramda/es/append.js"),h=t("./node_modules/ramda/es/update.js"),y=t("./node_modules/ramda/es/has.js"),g=t("./node_modules/ramda/es/none.js"),j=t("./node_modules/ramda/es/map.js"),v=t("./node_modules/ramda/es/is.js"),O=t("./node_modules/ramda/es/concat.js"),F=function(e,n){return Object(p.a)(function(n){return n.name===e.name},n)},E=function(e,n){return Object(y.a)(e.name,n)?Object(m.a)(e,{value:n[e.name]}):e},M=function(e,n){return Object(l.a)(e.fields)?n:Object(j.a)(function(n){return t=n,o=e.fields,a=Object(f.a)(function(e){return e.name===t.name},o),Object(l.a)(a)?t:Object(l.a)(t.errors)||!Object(v.a)(Array,t.errors)?Object(m.a)(t,{error:!0,errors:a.errors}):Object(m.a)(t,{error:!0,errors:Object(O.a)(a.errors,t.errors)});var t,o,a},n)};function _(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var w=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.onFieldChange=this.onFieldChange.bind(this),this.onFieldMount=this.onFieldMount.bind(this),this.onResetForm=this.onResetForm.bind(this),this.onSubmitForm=this.onSubmitForm.bind(this),this.onValidationForm=this.onValidationForm.bind(this),this.getValues=this.getValues.bind(this),this.fields=[],this.initialValue=n,this.globalErrorsInForm=[]}var n,t,o;return n=e,(t=[{key:"onFieldChange",value:function(e){return this.fields=function(e,n){var t=F(e,n);return t<0?n:Object(h.a)(t,e,n)}(e,this.fields),this.fields}},{key:"onFieldMount",value:function(e){var n=E(e,this.initialValue);return this.fields=function(e,n){var t=F(e,n);return t<0?Object(b.a)(e,n):Object(h.a)(t,e,n)}(n,this.fields),this.fields}},{key:"onResetForm",value:function(){var e,n;return this.fields=(e=this.fields,n=this.initialValue,Object(j.a)(function(e){return E(e,n)},e)),this.fields}},{key:"onSubmitForm",value:function(){var e,n=(e=this.fields,Object(g.a)(function(e){return!0===e.error},e)),t=Object(u.a)(this.globalErrorsInForm);return!0===n&&!0===t?this.getValues():null}},{key:"onValidationForm",value:function(e){return Object(l.a)(e)?(this.globalErrorsInForm=[],this.fields):(this.fields=M(e,this.fields),this.globalErrorsInForm=function(e){return Object(l.a)(e.global)?[]:e.global}(e),this.fields)}},{key:"getValues",value:function(){var e=Object(c.a)(function(e,n){return Object(m.a)(e,Object(d.a)(n.name)(n.value))},{},this.fields);return Object(m.a)(this.initialValue,e)}}])&&_(n.prototype,t),o&&_(n,o),e}(),q=t("./src/contexts/form-context.js");function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,n){return(T=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var k,X,C,P=function(e){function n(e){var t,o,a;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(a=x(n).call(this,e))||"object"!==S(a)&&"function"!==typeof a?D(o):a).formManager=new w(e.initialValue),t.onFieldChange=t.onFieldChange.bind(D(D(t))),t.onFieldMount=t.onFieldMount.bind(D(D(t))),t.handlerOnValidate=t.handlerOnValidate.bind(D(D(t))),t.handlerSubmit=t.handlerSubmit.bind(D(D(t))),t.state={initialValue:e.initialValue,fields:{},errorsInForm:[]},t}var t,r,i;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&T(e,n)}(n,o["Component"]),t=n,(r=[{key:"onFieldChange",value:function(e){var n=this;this.setState({fields:this.formManager.onFieldChange(e)},function(){return n.handlerOnValidate()})}},{key:"onFieldMount",value:function(e){this.setState({fields:this.formManager.onFieldMount(e)})}},{key:"handlerOnValidate",value:function(){var e=this,n=(0,this.props.onValidate)(this.formManager.getValues()),t=this.formManager.onValidationForm(n),o=this.formManager.globalErrorsInForm;return new Promise(function(n){e.setState({fields:t,errorsInForm:o},function(){return n()})})}},{key:"handlerSubmit",value:function(e){var n=this,t=this.props.onSubmit;Object(l.a)(e)||e.preventDefault(),this.handlerOnValidate().then(function(){var e=n.formManager.onSubmitForm();Object(l.a)(e)||t(e)})}},{key:"render",value:function(){var e=this,n=this.props.children,t=this.state,o=t.initialValue,r=t.errorsInForm,i=t.fields,l=Object(s.a)(["initialValue","onValidate","onSubmit"],this.props);return a.a.createElement(q.a.Provider,{value:{initialValue:o,globalErrors:r,fields:i,onFieldChange:this.onFieldChange,onFieldMount:this.onFieldMount,onSubmit:this.handlerSubmit}},a.a.createElement("form",Object.assign({onSubmit:function(n){return e.handlerSubmit(n)}},l),n))}}])&&V(t.prototype,r),i&&V(t,i),n}();C={initialValue:{},onValidate:function(){return null}},(X="defaultProps")in(k=P)?Object.defineProperty(k,X,{value:C,enumerable:!0,configurable:!0,writable:!0}):k[X]=C;var N=P;function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function z(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,n){return!n||"object"!==I(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,n){return(J=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}P.__docgenInfo={description:"",methods:[{name:"onFieldChange",docblock:null,modifiers:[],params:[{name:"fieldData",type:null}],returns:null},{name:"onFieldMount",docblock:null,modifiers:[],params:[{name:"fieldData",type:null}],returns:null},{name:"handlerOnValidate",docblock:null,modifiers:[],params:[],returns:null},{name:"handlerSubmit",docblock:null,modifiers:[],params:[{name:"evt",type:null}],returns:null}],displayName:"Form",props:{initialValue:{defaultValue:{value:"{}",computed:!1},type:{name:"shape",value:{}},required:!1,description:"define el valor inicial del formulario, en caso de tener conflicto con el\nvalor inicial de un input en concreto, tiene preferencia este valor."},onValidate:{defaultValue:{value:"() => null",computed:!1},type:{name:"func"},required:!1,description:"funcion que se ejecuta en cada cambio de valor del formulario.\nrecibe como parametro el nuevo valor, en caso de error se debe\nretornar un objeto error."},onSubmit:{type:{name:"func"},required:!0,description:"funcion que se ejecuta al enviar el formulario,\nrecibe como parametro un objecto con el valor del formulario."},children:{type:{name:"node"},required:!0,description:"son los hijos del componente Form"}}},t.d(n,"default",function(){return L});var L=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=A(this,H(n).call(this,e))).layout=null,t}var t,o,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&J(e,n)}(n,a.a.Component),t=n,(o=[{key:"render",value:function(){var e=this.props,n=e.components;R(e,["components"]);return a.a.createElement(r.MDXTag,{name:"wrapper",components:n},a.a.createElement(r.MDXTag,{name:"h1",components:n,props:{id:"etiqueta-form"}},"Etiqueta Form"),a.a.createElement(r.MDXTag,{name:"p",components:n},"Etiqueta que crea y gestiona el estado del contexto para el formulario."),a.a.createElement(r.MDXTag,{name:"p",components:n},"Esta etiqueta crea un contexto en el que se exponen publicamente parte del estado del formulario,\ncomo son el valor y los errores, y acciones o funciones que pueden ser ejecutadas desde cualquier parte."),a.a.createElement(r.MDXTag,{name:"p",components:n},"Para acceder a este contexto se usa la funcion de alto nivel (HOC) ",a.a.createElement(r.MDXTag,{name:"a",components:n,parentName:"p",props:{href:"/with-form-context"}},"withFormContext"),"."),a.a.createElement(r.MDXTag,{name:"p",components:n},"Actualmente, dentro del contexto tenemos acceso a la siguiente informacion:"),a.a.createElement(r.MDXTag,{name:"ul",components:n},a.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"initialValue: Objeto que contiene el valor inicial del formulario, es el valor que se usar\xe1 al resetar el formulario."),a.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"globalErrors: Array de string que contiene los errores globales del formulario,\nestos se pueden mostrar directamente usando la etiqueta ShowFormGlobalErrors."),a.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"fields: Objeto que contiene las propiedades y el valor de cada input que estan conectado al formulario.")),a.a.createElement(r.MDXTag,{name:"p",components:n},"y a las siguientes acciones y funciones:"),a.a.createElement(r.MDXTag,{name:"ul",components:n},a.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"onFieldChange: Funcion que se debe ejecutar al modificarse un input, para informar del cambio al contexto.\nSe debe pasar como parametro el nuevo valor del input(el objeto completo, con todas las props),\nque ser\xe1 almacenado en el contexto reemplazando el anterior valor para dicho input."),a.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"onFieldMount: Funcion que ejecuta internamente la funcion ",a.a.createElement(r.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"/with-form-context"}},"withFormContext"),",\nque sirve para registrar el input en el contexto,\nen dicha funcion se pasa por parametro todas las props del input, el contexto inserta el input en el objeto fields,\ny ademas, carga en el, el valor inicial."),a.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"onSubmit: Funcion que ejecuta el envio del formulario.")),a.a.createElement(r.MDXTag,{name:"p",components:n},"Adem\xe1s, esta etiqueta admite todos los atributos que admite la etiqueta ",a.a.createElement(r.MDXTag,{name:"a",components:n,parentName:"p",props:{href:"https://developer.mozilla.org/es/docs/Web/HTML/Elemento/form"}},"form")," de html,\ntodos las props que no sean las expuestas en la tabla seran pasadas directamente a la etiqueta form interna.\nHay que tener en cuenta que el estado del formulario es controlado, y que algunos atributos de la etiqueta ",a.a.createElement(r.MDXTag,{name:"a",components:n,parentName:"p",props:{href:"https://developer.mozilla.org/es/docs/Web/HTML/Elemento/form"}},"form"),"\nnativa de html pueden no tener mucho sentido, o que no funcionen de la manera esperada."),a.a.createElement(r.MDXTag,{name:"h2",components:n,props:{id:"props"}},"props"),a.a.createElement(i.e,{of:N}))}}])&&z(t.prototype,o),l&&z(t,l),n}();L.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}},"./src/contexts/form-context.js":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),a=t.n(o).a.createContext();n.a=a}}]);
//# sourceMappingURL=src-components-form.200310d1f6de6c87771e.js.map